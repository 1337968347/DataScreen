import{r as i,i as o,h as n,H as t,e}from"./p-6bae5055.js";import{g as s}from"./p-dde3564e.js";import"./p-9a0f8c0e.js";import"./p-32d9e078.js";import"./p-6bc4a9f7.js";import{j as l,d as a}from"./p-8d15e3b9.js";import"./p-56a5bb59.js";import{c as h}from"./p-12c414c9.js";import{c}from"./p-84cba16b.js";import{r}from"./p-6ba4e7f4.js";const u=class{constructor(n){i(this,n),this.ionImgWillLoad=o(this,"ionImgWillLoad",7),this.ionImgDidLoad=o(this,"ionImgDidLoad",7),this.ionError=o(this,"ionError",7),this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()}}srcChanged(){this.addIO()}componentDidLoad(){this.addIO()}addIO(){void 0!==this.src&&("IntersectionObserver"in window?(this.removeIO(),this.io=new IntersectionObserver(i=>{i[0].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){return n(t,{class:s(this)},n("img",{decoding:"async",src:this.loadSrc,alt:this.alt,onLoad:this.onLoad,onError:this.loadError}))}get el(){return e(this)}static get watchers(){return{src:["srcChanged"]}}};u.style=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}";const g=class{constructor(o){i(this,o)}render(){const i=s(this);return n(t,{class:Object.assign(Object.assign({},c(this.color)),{[i]:!0})},n("slot",null))}};g.style={ios:":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, #a6a6a6)}",md:":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, #666666);font-size:14px}"};const d=class{constructor(n){i(this,n),this.toast=o(this,"toast",7)}handleCanvasChange(i,o){this.canvasOption[i]=o,this.canvasOption=Object.assign({},this.canvasOption),l(this.canvasOption)}getCanvasToImg(){this.toast.emit("暂且不支持")}render(){if(this.canvasOption)return[n("ion-header",null,n("ion-toolbar",{color:"secondary"},n("ion-title",null,"页面设置"))),n("ion-content",null,n("ion-grid",null,n("ion-row",null,n("ion-col",null,"屏幕大小"),n("ion-col",null,n("ion-input",{type:"number",placeholder:"宽度",onIonChange:i=>{this.handleCanvasChange("w",i.detail.value)},value:this.canvasOption.w})),n("ion-col",null,n("ion-input",{type:"number",placeholder:"高度",onIonChange:i=>{this.handleCanvasChange("h",i.detail.value)},value:this.canvasOption.h}))),n("ion-row",null,n("ion-col",{size:"4"},"背景颜色"),n("ion-col",{size:"8"},n("ion-input",{value:this.canvasOption.bgc,onIonChange:i=>{this.handleCanvasChange("bgc",i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.canvasOption.bgc,onChange:i=>{this.handleCanvasChange("bgc",i.target.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"背景图"),n("ion-col",{size:"8"},n("ion-input",{debounce:500,clearInput:!0,value:this.canvasOption.bgi,onIonChange:i=>{this.handleCanvasChange("bgi",i.detail.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"环境地址"),n("ion-col",{size:"8"},n("ion-input",{debounce:500,clearInput:!0,value:this.canvasOption.baseUrl,onIonChange:i=>{this.handleCanvasChange("baseUrl",i.detail.value)}}))),this.canvasOption.bgi?n("ion-row",null,n("ion-col",{size:"4"}),n("ion-col",{size:"8"},n("ion-img",{style:{height:"100px","object-fit":"cover"},src:this.canvasOption.bgi}))):null,n("ion-row",null,n("ion-col",{size:"4"},"重置"),n("ion-col",{size:"8"},n("ion-button",{size:"small",fill:"outline",onClick:()=>{this.handleCanvasChange("bgi",h.bgi)}},"恢复默认背景"))),n("ion-row",null,n("ion-col",{size:"4"},"缩略图"),n("ion-col",{size:"8"},n("ion-button",{size:"small",fill:"outline",onClick:()=>{this.getCanvasToImg()}},"获取封面"))),this.imgAdress?n("ion-row",null,n("ion-col",{size:"4"}),n("ion-col",{size:"8",id:"canvasBox"},n("img",{style:{height:"100px","object-fit":"cover"},src:this.imgAdress}))):null))]}get el(){return e(this)}};d.style="setting-canvas-option ion-grid ion-col{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}setting-canvas-option ion-grid ion-col ion-button{--border-radius:0}setting-canvas-option ion-grid ion-col ion-input{--background:var(--ion-color-secondary)!important}";const p=class{constructor(n){i(this,n),this.cyChange=o(this,"cyChange",7),this.chooseSeriesIndex="0"}componentWillLoad(){this.handleSerieschange("0")}handleSeriesChange(i,o){this.cyChange.emit({argList:i,value:o})}handleSerieschange(i){this.chooseSeriesIndex=i,this.chooseSeries=Object.assign({},this.series[this.chooseSeriesIndex])}addSeries(){this.handleSeriesChange(["config","series"],[...this.series,Object.assign(Object.assign({},this.series[0]),{name:""})])}deleteSeries(){if(this.series[1]){let i=a([],this.series);i.splice(parseInt(this.chooseSeriesIndex),1),this.handleSeriesChange(["config","series"],i),this.chooseSeriesIndex="0",this.chooseSeries=i[0]?Object.assign({},i[0]):null}}render(){return[n("ion-row",null,n("ion-col",null,n("ion-button",{expand:"full",onClick:()=>{this.addSeries()}},"添加"),n("ion-button",{expand:"full",onClick:()=>{this.deleteSeries()}},"删除"))),n("ion-segment",{scrollable:!0,value:this.chooseSeriesIndex,onIonChange:i=>{this.handleSerieschange(i.detail.value)}},this.series.map((i,o)=>n("ion-segment-button",{value:o+""},n("ion-label",null,"系列"+(o+1))))),n("ion-list",null,n("ion-row",null,n("ion-col",{size:"4"},"系列名"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.name||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"name"],i.detail.value)}}))),this.chooseSeries&&"line"==this.chooseSeries.type?[n("cy-item-extend",{header:"折线"},n("ion-row",null,n("ion-col",{size:"4"},"颜色"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.color||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"lineStyle","color"],i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.color||"",onChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"lineStyle","color"],i.target.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"样式"),n("ion-col",{size:"8"},n("ion-select",{value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.type||"",interface:"popover",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"lineStyle","type"],i.detail.value)}},n("ion-select-option",{value:"solid"},"solid"),n("ion-select-option",{value:"dashed"},"dashed"),n("ion-select-option",{value:"dotted"},"dotted")))),n("ion-row",null,n("ion-col",{size:"4"},"粗细"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.width||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"lineStyle","width"],i.detail.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"近似曲线"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.smooth||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"smooth"],i.detail.checked)}})))),n("cy-item-extend",{header:"圆点"},n("ion-row",null,n("ion-col",{size:"4"},"显示"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.itemStyle&&1==this.chooseSeries.itemStyle.opacity||!1,onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","opacity"],i.detail.checked?1:0)}}))),n("ion-row",null,n("ion-col",{size:"4"},"颜色"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","color"],i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","color"],i.target.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"半径"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.borderWidth||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","borderWidth"],i.detail.value)}})))),n("cy-item-extend",{header:"区域"},n("ion-row",null,n("ion-col",{size:"4"},"显示"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.areaStyle&&1==this.chooseSeries.areaStyle.opacity||!1,onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"areaStyle","opacity"],i.detail.checked?1:0)}}))),n("ion-row",null,n("ion-col",{size:"4"},"颜色"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.areaStyle&&this.chooseSeries.areaStyle.color||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"areaStyle","color"],i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.areaStyle&&this.chooseSeries.areaStyle.color||"",onChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"areaStyle","color"],i.target.value)}})))),n("cy-item-extend",{header:"标签"},n("ion-row",null,n("ion-col",{size:"4"},"显示"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.show||!1,onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"label","show"],i.detail.checked)}}))),n("ion-row",null,n("ion-col",{size:"4"},"字号"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.fontSize||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"label","fontSize"],i.detail.value)}}))),n("ion-row",null,n("ion-col",{size:"4"},"颜色"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.color||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"label","color"],i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.color||"",onChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"label","color"],i.target.value)}}))))]:null,this.chooseSeries&&"bar"==this.chooseSeries.type?n("ion-row",null,n("ion-col",{size:"4"},"颜色"),n("ion-col",{size:"8"},n("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","color"],i.detail.value)}}),n("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"itemStyle","color"],i.target.value)}}))):null,this.chooseSeries&&"pie"==this.chooseSeries.type?[n("ion-row",null,n("ion-col",{size:"4"},"南丁格尔图"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.roseType,onIonChange:i=>{this.handleSeriesChange(["config","series",this.chooseSeriesIndex,"roseType"],i.detail.checked)}})))]:null)]}},b=class{constructor(n){i(this,n),this.cyChange=o(this,"cyChange",7)}handleConfigChange(i,o,n){this.cyChange.emit({type:i,name:o,value:n})}render(){return n("ion-grid",null,n("ion-row",null,n("ion-col",null,"图标尺寸"),n("ion-col",null,n("ion-input",{debounce:500,type:"number",placeholder:"宽度",onIonChange:i=>{this.handleConfigChange("view","w",i.detail.value)},value:this.comData.view.w})),n("ion-col",null,n("ion-input",{debounce:500,type:"number",placeholder:"高度",onIonChange:i=>{this.handleConfigChange("view","h",i.detail.value)},value:this.comData.view.h}))),n("ion-row",null,n("ion-col",null,"图表位置"),n("ion-col",null,n("ion-input",{debounce:500,type:"number",placeholder:"top",onIonChange:i=>{this.handleConfigChange("view","x",i.detail.value)},value:this.comData.view.x})),n("ion-col",null,n("ion-input",{debounce:500,type:"number",placeholder:"left",onIonChange:i=>{this.handleConfigChange("view","y",i.detail.value)},value:this.comData.view.y}))),n("ion-row",null,n("ion-col",{size:"4"},"旋转角度"),n("ion-col",{size:"4"},n("ion-input",{debounce:500,type:"number",onIonChange:i=>{this.handleConfigChange("view","deg",i.detail.value)},value:this.comData.view.deg+""}))),n("ion-row",null,n("ion-col",{size:"4"},"透明度"),n("ion-col",{size:"4"},n("ion-range",{debounce:500,value:parseFloat(this.comData.view.opacity),onIonChange:i=>{this.handleConfigChange("view","opacity",i.detail.value.toFixed(2))},min:0,max:1,step:.05})),n("ion-col",{size:"4"},n("ion-input",{debounce:500,type:"number",onIonChange:i=>{this.handleConfigChange("view","opacity",i.detail.value)},value:this.comData.view.opacity+"",min:"0",max:"1",step:"0.05"}))))}},m=class{constructor(n){i(this,n),this.cyChange=o(this,"cyChange",7),this.toast=o(this,"toast",7),this.isStaticDataOJBk=!0}componentWillLoad(){this.dataType=this.comDataApiData.dataSourceType}handleConfigChange(i,o,n){this.cyChange.emit({type:i,name:o,value:n})}handlefieldMapChange(i,o,n){this.comDataApiData.fieldMap[i][o]=n,this.handleConfigChange("api_data","fieldMap",this.comDataApiData.fieldMap)}refreshComData(i){r(i)}checkStaticDataOJBK(i){try{return JSON.parse(i),this.isStaticDataOJBk=!0,!0}catch(o){return this.isStaticDataOJBk=!1,this.toast.emit("数据格式错误!"),!1}}render(){const i=[{title:"字段",dataIndex:"name"},{title:"映射",dataIndex:"mapping",render:(i,o)=>n("ion-input",{placeholder:"可自定义",debounce:1500,style:{width:"108px",height:"30px","--background":"var(--ion-background-shade)"},onIonChange:i=>{this.handlefieldMapChange(o,"mapping",i.detail.value)},value:i.mapping||""})}];return n("ion-gird",null,n("ion-row",{style:{"margin-bottom":"20px"}},n("ion-col",{size:"4"},"数据来源"),n("ion-col",{size:"8"},n("ion-select",{value:this.comDataApiData.dataSourceType||"static",interface:"popover",onIonChange:i=>{this.dataType=i.detail.value,this.handleConfigChange("api_data","dataSourceType",i.detail.value+"")}},n("ion-select-option",{value:"static"},"静态"),n("ion-select-option",{value:"rest"},"动态")))),this.comDataApiData.fieldMap?n("ion-row",null,n("ion-col",{size:"12"},"数据映射"),n("ion-col",{size:"12"},n("cy-table",{Columns:i,dataSource:this.comDataApiData.fieldMap||[]}))):null,"static"==this.dataType?n("ion-gird",null,n("ion-row",null,n("ion-col",null,"静态数据")),n("ion-row",null,n("ion-col",null,n("ion-textarea",{debounce:600,rows:20,wrap:"soft",onIonChange:i=>{this.checkStaticDataOJBK(i.detail.value)&&this.handleConfigChange("api_data","staticData",JSON.parse(i.detail.value+""))},value:JSON.stringify(this.comDataApiData.staticData,null,1)}),this.isStaticDataOJBk?null:n("ion-note",{slot:"end",color:"danger"},"数据错误")))):null,"rest"==this.dataType?n("ion-gird",null,n("cy-item-extend",{style:{"margin-top":"15px"},header:"接口设置"},n("ion-row",null,n("ion-col",{size:"4"},"拼接环境地址"),n("ion-col",{size:"8"},n("ion-toggle",{checked:this.comDataApiData.isSplicing||!1,onIonChange:i=>{this.handleConfigChange("api_data","isSplicing",i.detail.checked)}}))),n("ion-row",null,n("ion-col",{size:"4"},"请求类型"),n("ion-col",{size:"8"},n("ion-select",{value:this.comDataApiData.restType,interface:"popover",onIonChange:i=>{this.handleConfigChange("api_data","restType",i.detail.value+"")}},n("ion-select-option",{value:"get"},"get"),n("ion-select-option",{value:"post"},"post")))),n("ion-row",null,n("ion-col",{size:"4"},"接口地址"),n("ion-col",{size:"8"},n("ion-input",{debounce:1e3,onIonChange:i=>{this.handleConfigChange("api_data","restUrl",i.detail.value+"")},value:this.comDataApiData.restUrl||""})))),n("ion-row",null,n("ion-col",{size:"4"},"刷新间隔(s)"),n("ion-col",{size:"8"},n("ion-input",{debounce:1e3,placeholder:"0为只刷新一次",min:"0",type:"number",onIonChange:i=>{this.handleConfigChange("api_data","restRefreshTime",i.detail.value||"0")},value:this.comDataApiData.restRefreshTime+""||"0"}))),n("ion-row",null,n("ion-col",null,n("ion-button",{onClick:()=>{this.refreshComData(this.comId)},fill:"outline",expand:"block"},"刷新数据")))):null)}};m.style="setting-data-config ion-item ion-textarea,setting-data-config ion-col ion-textarea{--background:var(--ion-background-shade) !important}setting-data-config ion-item ion-input,setting-data-config ion-col ion-input{--background:var(--ion-background-shade) !important}setting-data-config ion-row ion-col{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}setting-data-config ion-row ion-range{-webkit-padding-start:0px;padding-inline-start:0px;padding-top:0;padding-bottom:0;-webkit-padding-end:0px;padding-inline-end:0px}setting-data-config ion-row ion-button{--border-radius:0}setting-data-config ion-row ion-input{--background:var(--ion-background-shade) !important}setting-data-config ion-row ion-input input[type=number]::-webkit-inner-spin-button,setting-data-config ion-row input[type=number]::-webkit-outer-spin-button{width:25px;height:30px}setting-data-config ion-row cy-table{--font-size:13px;text-align:left;--color:var(--ion-text-color, #ffffff)}setting-data-config ion-row ion-select{width:100%;background:var(--ion-background-shade) !important}setting-data-config cy-item-extend{--header-bg:var(--ion-background-color);--color:var(--ion-text-color);--content-bg:var(--ion-background-shade)}setting-data-config cy-item-extend ion-input,setting-data-config cy-item-extend input{height:25px;--background:var(--ion-background-tint) !important}setting-data-config cy-item-extend ion-select{width:100%;--padding-top:6px;--padding-bottom:0;background:var(--ion-background-tint) !important}";export{u as ion_img,g as ion_note,d as setting_canvas_option,p as setting_chart_series,b as setting_common_config,m as setting_data_config}
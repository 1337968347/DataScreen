var __awaiter=this&&this.__awaiter||function(r,t,e,n){function a(r){return r instanceof e?r:new e((function(t){t(r)}))}return new(e||(e=Promise))((function(e,i){function u(r){try{c(n.next(r))}catch(t){i(t)}}function o(r){try{c(n["throw"](r))}catch(t){i(t)}}function c(r){r.done?e(r.value):a(r.value).then(u,o)}c((n=n.apply(r,t||[])).next())}))};var __generator=this&&this.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(r){return function(t){return c([r,t])}}function c(u){if(n)throw new TypeError("Generator is already executing.");while(e)try{if(n=1,a&&(i=u[0]&2?a["return"]:u[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;if(a=0,i)u=[u[0]&2,i.value];switch(u[0]){case 0:case 1:i=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;a=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(i=e.trys,i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1];i=u;break}if(i&&e.label<i[2]){e.label=i[2];e.ops.push(u);break}if(i[2])e.ops.pop();e.trys.pop();continue}u=t.call(r,e)}catch(o){u=[6,o];a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],u=0,o=i.length;u<o;u++,a++)n[a]=i[u];return n};System.register(["./p-47c6959b.system.js"],(function(r){"use strict";var t;return{setters:[function(r){t=r.D}],execute:function(){var e=this;var n=Object.getPrototypeOf;var a={};var i=a.hasOwnProperty;var u=i.toString;var o=u.call(Object);var c=function(r){return typeof r==="function"&&typeof r.nodeType!=="number"};var s=function(r){var t,e;if(!r||toString.call(r)!=="[object Object]"){return false}t=n(r);if(!t){return true}e=i.call(t,"constructor")&&t.constructor;return typeof e==="function"&&u.call(e)===o};var f=r("d",(function(r,t){var e,n,a,i,u=r,o=t;if(typeof u!=="object"&&!c(u)){u={}}for(e in t){o=t[e];if(e==="__proto__"||u===o){continue}if(o&&(s(o)||(a=Array.isArray(o)))){n=u[e];if(a&&!Array.isArray(n)){i=[]}else if(!a&&!s(n)){i={}}else{i=n}a=false;u[e]=f(i,o)}else if(o!==undefined){u[e]=o}}return u}));var l=new Map;var v=function(r,t,e){l.has(r)&&clearTimeout(l.get(r));var n=setTimeout((function(){t();l.delete(r)}),e||500);l.set(r,n)};var _=[];var d=null;var h="";var b="";var p=r("s",(function(r,t,n){if(n===void 0){n=true}return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:G("");b=r;return[4,T(t.componentsData,true,true,n)];case 1:e.sent();return[4,O(t.canvasOption,n)];case 2:e.sent();return[2]}}))}))}));var w=r("g",(function(r){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,t.getDataScreen(r)];case 1:return[2,e.sent()]}}))}))}));var y=null;var g=null;var m=null;var C=r("e",(function(r){g=r}));var D=r("h",(function(r){m=r}));var S=r("i",(function(r){y=r}));var A=function(){return g};var j=function(){return y};var k=function(){return m};var x=r("k",(function(){return d}));var O=r("j",(function(r,n){if(n===void 0){n=true}return __awaiter(e,void 0,void 0,(function(){var e,a;return __generator(this,(function(i){switch(i.label){case 0:d=r;e=n;if(!e)return[3,2];return[4,t.setDataScreenCanvasConfig(b,d)];case 1:e=i.sent();i.label=2;case 2:e;a=j();if(!a)return[3,4];return[4,y.setCanvasConfig(r)];case 3:a=i.sent();i.label=4;case 4:a;k()&&m.setCanvasConfig(r);return[2,d]}}))}))}));var T=function(r,n,a,i){if(n===void 0){n=true}if(a===void 0){a=true}if(i===void 0){i=true}return __awaiter(e,void 0,void 0,(function(){var e=this;return __generator(this,(function(u){switch(u.label){case 0:_=f([],r);return[4,Promise.all([n&&v("canvasDataCallback",(function(){return __awaiter(e,void 0,void 0,(function(){var r;return __generator(this,(function(t){switch(t.label){case 0:r=j();if(!r)return[3,2];return[4,y.mapComDatasToState(f([],_))];case 1:r=t.sent();t.label=2;case 2:r;return[2]}}))}))})),a&&v("layerDataCallback",(function(){return __awaiter(e,void 0,void 0,(function(){var r,t;return __generator(this,(function(e){switch(e.label){case 0:r=_.map((function(r){return r.id}));t=A();if(!t)return[3,2];return[4,g.mapComIdsToState(r)];case 1:t=e.sent();e.label=2;case 2:t;return[2]}}))}))}))])];case 1:u.sent();i&&t.setDataScreenComData(b,_);return[2]}}))}))};var P=r("a",(function(){return _}));var I=r("f",(function(r,t,n){if(t===void 0){t=true}if(n===void 0){n=true}return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(a){switch(a.label){case 0:e=_.map((function(t){return t.id==r.id?r:t}));return[4,T(e,t,false)];case 1:a.sent();n&&k()&&m.setComponentConfigData(r);return[2]}}))}))}));var B=r("b",(function(r){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,T(f([],__spreadArrays(_,[r])))];case 1:t.sent();return[4,G(r.id)];case 2:t.sent();return[2]}}))}))}));var E=r("r",(function(r){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:if(!(r==h))return[3,2];return[4,G("")];case 1:t.sent();t.label=2;case 2:return[4,T(f([],_.filter((function(t){return r!==t.id}))))];case 3:t.sent();return[2]}}))}))}));var G=r("c",(function(r){return __awaiter(e,void 0,void 0,(function(){var t,e,n;return __generator(this,(function(a){switch(a.label){case 0:if(!(h!==r))return[3,7];h=r;t=A();if(!t)return[3,2];return[4,g.chooseComponentById(r)];case 1:t=a.sent();a.label=2;case 2:t;e=j();if(!e)return[3,4];return[4,y.chooseComponentById(r)];case 3:e=a.sent();a.label=4;case 4:e;n=k();if(!n)return[3,6];return[4,m.setComponentConfigData(M(r))];case 5:n=a.sent();a.label=6;case 6:n;a.label=7;case 7:return[2]}}))}))}));var M=function(r){return _.filter((function(t){return t.id==r}))[0]||null};var q=r("u",(function(r,t,e,n,a){if(e===void 0){e=true}if(n===void 0){n=true}if(a===void 0){a=true}var i=_[r];_.splice(r,1);_.splice(t,0,i);T(_,e,n,a)}))}}}));